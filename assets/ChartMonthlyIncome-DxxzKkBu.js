import{g as x,h as C,i as O,j as s,c as u,a as l,k as g,u as b,F as j,o}from"./index-CAJQbJj8.js";import{C as D,p as E,c as S,d as w,L as B,A as I,a as L,b as A,P as T,f as F,D as M}from"./index-4065pWxy.js";const P={class:"bg-white p-6 rounded-xl shadow-md mb-8"},N={key:1,class:"text-gray-500 text-sm"},V={class:"bg-white p-6 rounded-xl shadow-md"},W={key:1,class:"text-gray-500 text-sm"},H={__name:"ChartMonthlyIncome",setup(q){D.register(E,S,w,B,I,L,A,T);const d=x(),f=C();O(()=>{d.fetchTransactions()});const p=s(()=>d.transactions.filter(t=>t.userId===f.user.id)),r=s(()=>{const t={};return p.value.forEach(({type:e,date:n,amount:i})=>{if(e==="income"){const a=n.slice(0,7);t[a]=(t[a]||0)+i}}),t}),h=s(()=>{const t=Object.keys(r.value).sort();return{labels:t,datasets:[{label:"ìˆ˜ì…",data:t.map(e=>r.value[e]),borderColor:"#4ade80",backgroundColor:"#bbf7d0",fill:!1,tension:.3}]}}),m={responsive:!0,plugins:{legend:{position:"top"}},scales:{x:{grid:{display:!1}},y:{grid:{display:!1}}}},y=s(()=>Object.keys(r.value).length>0),c=s(()=>{const t={};return p.value.forEach(({type:e,category:n,amount:i})=>{if(e==="income"){const a=n||"ê¸°íƒ€";t[a]=(t[a]||0)+i}}),t}),v=s(()=>{const t=Object.keys(c.value),e=Object.values(c.value);return{labels:t,datasets:[{label:"ìˆ˜ì…",data:e,backgroundColor:["#60a5fa","#34d399","#fbbf24","#a78bfa","#fb7185","#4ade80","#facc15","#38bdf8","#c084fc"].slice(0,t.length),borderWidth:1,cutout:"50%",hoverOffset:30}]}}),k={responsive:!0,plugins:{legend:{position:"bottom"}}},_=s(()=>Object.keys(c.value).length>0);return(t,e)=>(o(),u(j,null,[l("div",P,[e[0]||(e[0]=l("h2",{class:"text-lg font-bold mb-4"},"ğŸ“ˆ ì›”ë³„ ìˆ˜ì… ì¶”ì´",-1)),y.value?(o(),g(b(F),{key:0,data:h.value,options:m},null,8,["data"])):(o(),u("p",N,"ğŸ“Œ ìˆ˜ì… ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤."))]),l("div",V,[e[1]||(e[1]=l("h2",{class:"text-lg font-bold mb-4"},"ğŸ’° ì¹´í…Œê³ ë¦¬ë³„ ìˆ˜ì…",-1)),_.value?(o(),g(b(M),{key:0,data:v.value,options:k},null,8,["data"])):(o(),u("p",W," ğŸ“Œ ìˆ˜ì… ì¹´í…Œê³ ë¦¬ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. "))])],64))}};export{H as default};
