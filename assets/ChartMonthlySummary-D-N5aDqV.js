import{g as d,h as m,i as f,j as n,c as b,a as g,b as h,u as y,o as x}from"./index-CbtB4bIq.js";import{C as _,B as v,L as C,a as k,b as B,p as S,c as E,d as D,P as L,e as M}from"./index-Cch33zk9.js";const P={class:"bg-white p-6 rounded-xl shadow-md"},N={__name:"ChartMonthlySummary",setup(T){_.register(v,C,k,B,S,E,D,L);const r=d(),l=m();f(()=>{r.fetchTransactions()});const c=n(()=>r.transactions.filter(e=>e.userId===l.user.id)),o=n(()=>{const e={};return c.value.forEach(a=>{const t=a.date.slice(0,7);e[t]||(e[t]={income:0,expense:0}),a.type==="income"?e[t].income+=a.amount:a.type==="expense"&&(e[t].expense+=a.amount)}),e}),i=n(()=>{const e=Object.keys(o.value).sort(),a=e.map(s=>o.value[s].income),t=e.map(s=>o.value[s].expense),p=e.map(s=>o.value[s].income-o.value[s].expense);return{labels:e,datasets:[{type:"line",label:"ìˆœì´ìµ",data:p,borderColor:"#22c55e",backgroundColor:"#bbf7d0",fill:!1,tension:.3},{type:"bar",label:"ìˆ˜ìž…",data:a,backgroundColor:"#93c5fd"},{type:"bar",label:"ì§€ì¶œ",data:t,backgroundColor:"#fca5a5"}]}}),u={responsive:!0,plugins:{legend:{position:"top"}},scales:{x:{grid:{display:!1}},y:{grid:{display:!1}}}};return(e,a)=>(x(),b("div",P,[a[0]||(a[0]=g("h2",{class:"text-lg font-bold mb-4"},"ðŸ“Š ì›”ë³„ ìš”ì•½",-1)),h(y(M),{data:i.value,options:u},null,8,["data"])]))}};export{N as default};
